# 天気機能のセットアップ

この天気機能は、OpenWeatherMap APIを使用してリアルタイムの天気情報を取得します。

## APIキーの取得方法

1. **OpenWeatherMapアカウント作成**
   - https://openweathermap.org/api にアクセス
   - 「Sign Up」をクリックしてアカウントを作成
   - 無料プランで1日1,000回まで天気データを取得可能

2. **APIキーの取得**
   - ログイン後、「API keys」タブに移動
   - デフォルトのAPIキーをコピー、または新しいキーを作成
   - APIキーの有効化には数時間かかる場合があります

## セットアップ手順

1. **環境変数の設定**
   ```bash
   # .env.localファイルを編集
   NEXT_PUBLIC_WEATHER_API_KEY=your_actual_api_key_here
   ```

2. **アプリケーションの再起動**
   ```bash
   npm run dev
   ```

## 機能説明

- **リアルタイム天気データ**: 現在の気温、湿度、風速を表示
- **日本語対応**: 天気状況が日本語で表示
- **自動フォールバック**: APIキーが未設定またはエラー時はモックデータを表示
- **エラーハンドリング**: APIエラー（401, 404, 429等）を適切に処理

## トラブルシューティング

### 「モックデータ」と表示される場合
- `.env.local`にAPIキーが正しく設定されているか確認
- APIキーが有効になっているか確認（新規作成後は数時間待つ）
- アプリケーションを再起動

### APIエラーが発生する場合
- **401エラー**: APIキーが無効または未設定
- **404エラー**: 都市名が見つからない
- **429エラー**: API利用制限に達している（24時間後にリセット）

## カスタマイズ

### 都市の変更
`WeatherWidget`コンポーネントで都市名を変更可能：
```typescript
const data = await WeatherService.getWeatherByCity('Osaka'); // 大阪に変更
```

### 表示項目の追加
`WeatherData`インターフェースを拡張して、気圧や体感温度などの追加情報を表示できます。